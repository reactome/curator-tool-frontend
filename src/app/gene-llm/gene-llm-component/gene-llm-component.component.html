<h1 class="section_title">Use LLM to Annotate a Gene in Reactome</h1>

<!--Enter a gene-->
<div>
    <mat-label>Enter a gene: </mat-label>
    <input matInput placeholder="TANC1" #geneInput value="TANC1">
    <button mat-button (click)="queryGene(geneInput.value)">Submit</button>
</div>

<mat-spinner *ngIf="during_query"></mat-spinner>

<section *ngIf="!during_query">
    <!--Show the content generated by LLM-->
    <div *ngIf="failure">
        <h4 class="title">Failure</h4>
        <p [innerHTML]="failure"></p>
    </div>

    <section *ngIf="annotated_pathway_content">
        <div>
            <br>
            <h2 class="section_title">Annotated Pathways</h2>
            <p class="note">The query gene has been annotated in Reactome. Its annotation is sumarized below with a focus on its 
                roles in reactions annotated in the pathway(s).
            </p>
            <h4 class="title">Summary</h4>
            <p class="note">The text is generated by LLM, which summarizes the annotated roles of the gene in the pathway(s).</p>
            <p [innerHTML]="annotated_pathway_content"></p>
        </div>

        <div *ngIf="details">
            <h4 class="title">Details</h4>
            <p class="note">The summary of individual pathways annotated for the gene in Reactome.</p>
            <p [innerHTML]="annotated_pathway_details"></p>
        </div>

    </section>
    
    <section *ngIf="content">
        <div>
            <br>
            <h2 class="section_title">Predicted Interacting Pathways</h2>
            <p class="note">The query gene may be functionally interacting with annotated pathways based on Reactome.
                The app
                tried to match PubMed abstracts together with interacting pathways for curators.
            </p>
            <h4 class="title">Summary</h4>
            <p class="note">The text is generated by LLM, which collects abstracts best aligned with predicted
                interacting
                pathways for the query gene.</p>
            <p [innerHTML]="content"></p>
        </div>

        <div *ngIf="details">
            <h4 class="title">Details</h4>
            <p class="note">The text is generate by LLM, which collects the best matched abstract for each of the
                predicted
                interacting pathways for the query gene.</p>
            <p [innerHTML]="details"></p>
        </div>
    </section>
</section>